var choona=function(){var d=function(a){this.id=a;this.topicList={};this.moduleList=[]};d.prototype={getId:function(){return this.id},subscribe:function(a,b){this.topicList[a]=amplify.subscribe(a,b);return this.topicList[a]},unsubscribe:function(a){amplify.unsubscribe(a,this.topicList[a])},publish:function(a,b){amplify.publish(a,b)},unsubscribeAll:function(){for(var a in this.topicList)amplify.unsubscribe(a,this.topicList[a]),console.log("cleared topic -> "+a)},eraseUI:function(){document.getElementById(this.id).innerHTML= ""},createChildModule:function(a,b,f){this.moduleList.push(new c(a,b,f));return this.moduleList[this.moduleList.length-1]},endChildModules:function(){for(var a=this.moduleList.length,b=0;b<a;b++)this.moduleList[b].end();this.moduleList.length=0}};var c=function(a,b,c){var e=function(a,b){this.sb=a;this.id=a.getId();this.$=document.getElementById(this.id);this.config=b};e.prototype=b;this.sandbox=new d(a);this.module=new e(this.sandbox,c)};c.prototype={start:function(){this.module.start()},end:function(){this.sandbox.endChildModules(); this.module.end();this.sandbox.eraseUI();this.sandbox.unsubscribeAll();console.log("ended -> ",this.sandbox.getId())}};return{createModule:c}}();
